version: "1"

project:
  name: "my-project"
  description: "Project description"

stack: python

stacks:
  python:
    detect:
      any: ["pyproject.toml", "requirements.txt"]
    deps: "uv sync"
    lint: "uv run ruff check ."
    typecheck: "uv run ty check"
    test: "uv run pytest"
    run: "uv run python main.py"

  node:
    detect:
      any: ["package.json"]
    deps: "npm install"
    lint: "npm run lint"
    typecheck: "npm run typecheck"
    test: "npm test"
    run: "npm start"

mcp:
  servers:
    Ref:
      transport: http
      url: "https://api.ref.tools/mcp"
      env:
        X_REF_API_KEY: "${env:X_REF_API_KEY}"

workflows:
  - name: "Development Flow"
    steps:
      - "uv run ruff format . && uv run ruff check ."
      - "uv run pytest"

pre_commit: ["prettier", "ruff", "ty"]

safety:
  preset: default

# Custom content to append to CLAUDE.md/AGENTS.md
# custom_content: |
#   ## Quick Start
#
#   ```bash
#   python main.py
#   ```
